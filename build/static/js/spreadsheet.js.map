{"version":3,"sources":["spreadsheet.js"],"names":["contrainValue","value","min","max","_","isFinite","Math","drawSpreadSheet","width","height","table","document","querySelector","i","row","insertRow","j","letter","String","fromCharCode","charCodeAt","insertCell","innerHTML","processElements","socketUpdate","socketMessage","add","a","b","minus","multiply","divide","power","console","log","pow","fetchAndCombine","token","combiner","pushers","right","left","calculate","Bacon","constant","combine","type","parseFloat","spreadSheet","getCellById","push","bus","updateCell","cell","element","is","val","formula","localStorage","id","socket","emit","user_id","userId","update","pusher","INPUTS","each","index","elem","$","model","attr","cells","filter","data","onValue","toUpperCase","timestamp","lastUpdated","dispose","isUndefined","expanded","window","parser","parse","replace","isString","test","result","uniqBy","forEach","asEventStream","event","elementid","target","map","addCells","setSpreadSheet","CellFactory","Cell","this","Bus","prototype","getNewCell","SpreadSheetFactory","SpreadSheet","find","isArray","Array","apply","addCell","removeCellsById","ids","remove","removeCellById","getSpreadSheet","io","connect","on","setSocket","fromBinder","sink"],"mappings":"AAAA,YAuIA,SAASA,eAAcC,EAAOC,EAAKC,GAMlC,MALAD,GAAMA,GAAO,EACbC,EAAMA,GAAO,GACbF,EAAQG,EAAEC,SAASJ,GAASA,EAAQ,EACpCA,EAAQK,KAAKH,IAAID,EAAKD,GACtBA,EAAQK,KAAKJ,IAAIC,EAAKF,GAWvB,QAASM,iBAAgBC,EAAOC,GAC/BD,EAAQR,cAAcQ,EAAO,EAAG,IAChCC,EAAST,cAAcS,EAAQ,EAAG,GAIlC,KAAK,GAFDC,GAAQC,SAASC,cAAc,SAE1BC,EAAI,EAAGA,EAAIJ,EAAQI,IAE3B,IAAK,GADDC,GAAMJ,EAAMK,cACPC,EAAI,EAAGA,EAAIR,EAAOQ,IAAK,CAC/B,GAAIC,GAASC,OAAOC,aAAa,IAAIC,WAAW,GAAKJ,EAAI,EACzDF,GAAIO,eACFC,UAAYT,GAAKG,EAAI,cAAgBC,EAASJ,EAC/C,gCACAA,GAAKI,GAUT,QAASM,iBAAgBC,EAAcC,GACtC,QAASC,GAAIC,EAAGC,GACf,MAAOD,GAAIC,EAGZ,QAASC,GAAMF,EAAGC,GACjB,MAAOD,GAAIC,EAGZ,QAASE,GAASH,EAAGC,GACpB,MAAOD,GAAIC,EAGZ,QAASG,GAAOJ,EAAGC,GAClB,MAAU,KAANA,EACI,EAEDD,EAAIC,EAGZ,QAASI,GAAML,EAAGC,GAEjB,MADAK,SAAQC,IAAI,SAAUP,EAAGC,GAClBtB,KAAK6B,IAAIR,EAAGC,GAGpB,QAASQ,GAAgBC,EAAOC,EAAUC,GACzC,GAAIC,GAAQ,GACRC,EAAOC,EAAUL,EAAMI,KAAMF,EAOjC,OAJCC,GADGH,EAAMG,MACDE,EAAUL,EAAMG,MAAOD,GAEvBI,MAAMC,SAAS,GAEjBH,EAAKI,QAAQL,EAAOF,GAG5B,QAASI,GAAUL,EAAOE,GACzB,GAAIE,GAAO,EACPD,EAAQ,EACRvC,EAAQ,CAEZ,IAAmB,WAAfoC,EAAMS,KACT7C,EAAQ0C,MAAMC,SAASG,WAAWV,EAAMA,YAClC,IAAmB,aAAfA,EAAMS,KAChB7C,EAAQ+C,YAAYC,YAAYZ,EAAMA,OACtCE,EAAQW,KAAKjD,GACbA,EAAQA,EAAMkD,QACR,IAAmB,UAAfd,EAAMS,KAChBN,EAAQE,EAAUL,EAAMG,MAAOD,GACX,MAAhBF,EAAMA,MACTpC,EAAQuC,GAERC,EAAOE,MAAMC,SAAS,GACtB3C,EAAQwC,EAAKI,QAAQL,EAAOX,QAEvB,IAAmB,cAAfQ,EAAMS,KAChBL,EAAOC,EAAUL,EAAMI,KAAMF,GAC7BC,EAAQH,EAAMG,MACK,eAAfA,EAAMM,OACT7C,EAAQwC,OAEH,IAAmB,aAAfJ,EAAMS,KAEhB,OAAQT,EAAMA,OACd,IAAK,IACJpC,EAAQmC,EAAgBC,EAAOX,EAAKa,EACpC,MACD,KAAK,IACJtC,EAAQmC,EAAgBC,EAAOR,EAAOU,EACtC,MACD,KAAK,IACJtC,EAAQmC,EAAgBC,EAAOP,EAAUS,EACzC,MACD,KAAK,IACJtC,EAAQmC,EAAgBC,EAAON,EAAQQ,EACvC,MACD,KAAK,IACJtC,EAAQmC,EAAgBC,EAAOL,EAAOO,GAIxC,MAAOtC,GAGR,QAASmD,GAAWC,EAAMC,EAASrD,GAClCoD,EAAKpD,MAAQA,EACTqD,EAAQC,GAAG,UACdD,EAAQE,IAAIH,EAAKI,SAEjBH,EAAQE,IAAIH,EAAKpD,OAElByD,aAAaL,EAAKM,IAAMN,EAAKI,QAG7BG,OAAOC,KAAK,OACXF,GAAIN,EAAKM,GACTF,QAASJ,EAAKI,QACdxD,MAAOoD,EAAKpD,MACZ6D,QAASC,OACTC,OAAQ,YAETX,EAAKY,SAGNC,OAAOC,KAAK,SAAUC,EAAOC,GAC5B,GAAIf,GAAUgB,EAAED,GACZE,GACHjB,QAASA,EACTK,GAAIL,EAAQkB,KAAK,OAEdjC,IAEJkC,OAAMvB,KAAKqB,GAEX/C,EAAakD,OAAO,SAAUC,GAC5B,MAAOA,GAAKrB,UAAYiB,EAAMZ,KAE9BiB,QAAQ,SAAUD,GAClB,GAAItB,GAAOL,YAAYC,YAAY0B,EAAKrB,SACpCrD,EAAQ0E,EAAKlB,QAAQoB,aAErBF,GAAKG,UAAYzB,EAAK0B,aACzBxC,KACAc,EAAKI,QAAUxD,EACXoD,EAAK2B,SACR3B,EAAK2B,UAEN3B,EAAK2B,QAAU,KACX5E,EAAE6E,YAAYhF,IAAoB,KAAVA,GAC3BmD,EAAWC,EAAMC,EAAS,GAC1BD,EAAK6B,SAAW,MAEhBjF,EAAQkF,OAAOC,OAAOC,MAAMpF,EAAMqF,QAAQ,IAAK,IAAKjC,EAAKM,IACrDvD,EAAEmF,SAAStF,IAAU,UAAUuF,KAAKvF,GACvCmD,EAAWC,EAAMC,EAASrD,IAE1BoD,EAAK2B,QAAUtC,EAAUzC,EAAOsC,GAC9BqC,QAAQ,SAAUa,GAClBrC,EAAWC,EAAMC,EAASmC,KAG5BrF,EAAEmC,GACAmD,OAAO,SAAUrC,GACjB,MAAOA,GAAKM,KAEZgC,QAAQ,SAAUtC,GAClBA,EAAKY,cAKThC,QAAQC,IAAI,0BAA2ByC,KAI1CrB,EAAQsC,cAAc,SACpBhB,QAAQ,SAAUiB,GAClB,GAAIC,GAAYD,EAAME,OAAOpC,GACzBN,EAAOL,YAAYC,YAAY6C,GAC/B7F,EAAQoD,EAAKI,OACjBH,GAAQE,IAAIvD,KAGdqD,EAAQsC,cAAc,QACpBI,IAAI,SAAUH,GACd,GAAIC,GAAYD,EAAME,OAAOpC,GACzBF,EAAUoC,EAAME,OAAO9F,KAE3B,QACCqD,QAASwC,EACTrC,QAASA,EACTK,QAASC,UAGVa,QAAQ,SAAUD,GAClBf,OAAOC,KAAK,QAASc,OAIxB3B,YAAYiD,SAASxB,OACrBU,OAAOC,OAAOc,eAAelD,aAE7BxB,EAAaoD,QAAQ,SAAUD,GAC9B1C,QAAQC,IAAI,UAAWyC,KArWzB,GAAIvE,GAAIA,EACJuC,MAAQA,MAMRwD,YAAe,WAMlB,QAASC,GAAKzB,GACb0B,KAAK1C,GAAKgB,EAAKhB,GACf0C,KAAK/C,QAAUqB,EAAKrB,QACpB+C,KAAKpG,MAAQ,EACboG,KAAKnB,SAAW,IAChBmB,KAAKtB,YAAc,EACnBsB,KAAKrB,QAAU,KACfqB,KAAKlD,IAAM,GAAIR,OAAM2D,IAatB,MAJAF,GAAKG,UAAUtC,OAAS,WACvBoC,KAAKlD,IAAID,KAAKmD,KAAKpG,SAInBuG,WAAY,SAAU7B,GACrB,MAAO,IAAIyB,GAAKzB,QAQf8B,mBAAsB,WAMzB,QAASC,GAAYjC,GACpB4B,KAAK5B,SACL4B,KAAKJ,SAASxB,GAyEf,MA7DAiC,GAAYH,UAAUtD,YAAc,SAAUU,GAC7C,MAAOvD,GAAEuG,KAAKN,KAAK5B,OAClBd,GAAIA,KAcN+C,EAAYH,UAAUN,SAAW,SAAUxB,GAC1CA,EAAQrE,EAAEwG,QAAQnC,GAASA,KAC3BA,EAAQA,EAAMuB,IAAI,SAAUrB,GAC3B,MAAOwB,aAAYK,WAAW7B,KAE/BkC,MAAMN,UAAUrD,KAAK4D,MAAMT,KAAK5B,MAAOA,IAGxCiC,EAAYH,UAAUQ,QAAU,SAAUpC,GACzC0B,KAAK5B,MAAMvB,KAAKiD,YAAYK,WAAW7B,KAYxC+B,EAAYH,UAAUS,gBAAkB,SAAUC,GACjDA,EAAM7G,EAAEwG,QAAQK,GAAOA,KACvB7G,EAAEuF,QAAQsB,EAAK,SAAUtD,GACxBvD,EAAE8G,OAAOb,KAAK5B,MAAO,SAAUpB,GAC9B,MAAOA,GAAKM,KAAOA,OActB+C,EAAYH,UAAUY,eAAiB,SAAUxD,GAChDvD,EAAE8G,OAAOb,KAAK5B,MAAO,SAAUpB,GAC9B,MAAOA,GAAKM,KAAOA,MAKpByD,eAAgB,SAAU3C,GACzB,MAAO,IAAIiC,GAAYjC,QAMtBzB,YAAcyD,mBAAmBW,gBAoCrC7G,iBAAgB,GAAI,GAEpB,IAAI2D,QAASI,EAAE,qBACXG,SAkMAV,OAEAH,OAASyD,GAAGC,QAAQ,wBAGxB1D,QAAO2D,GAAG,UAAW,SAAU5C,GAC9BQ,OAAOC,OAAOoC,UAAU5D,QAExBA,OAAOC,KAAK,OAAQ,2BAEpBD,OAAO2D,GAAG,SAAU,SAAU5C,GAC7BZ,OAASY,GAGV,IAAInD,GAAemB,MAAM8E,WAAW,SAAUC,GAC7C9D,OAAO2D,GAAG,SAAU,SAAU5C,GAC7B+C,EAAK/C,MAUPpD,iBAAgBC","file":"spreadsheet.js","sourcesContent":["/* eslint-disable */\nvar _ = _;\nvar Bacon = Bacon;\n/* eslint-enable */\n\n/*\n * CellFactory\n */\nvar CellFactory = (function () {\n\t/*\n\t * Constructor\n\t *\n\t * param {Object} json object containing cell data\n\t */\n\tfunction Cell(data) {\n\t\tthis.id = data.id;\n\t\tthis.element = data.element;\n\t\tthis.value = 0;\n\t\tthis.expanded = '0';\n\t\tthis.lastUpdated = 0;\n\t\tthis.dispose = null;\n\t\tthis.bus = new Bacon.Bus();\n\t}\n\n\t/*\n\t * pusher\n\t *\n\t * Pushes the current value to all subscribers.\n\t *\n\t */\n\tCell.prototype.pusher = function () {\n\t\tthis.bus.push(this.value);\n\t};\n\n\treturn {\n\t\tgetNewCell: function (data) {\n\t\t\treturn new Cell(data);\n\t\t}\n\t};\n})();\n\n/*\n * SpreadSheetFactory\n */\nvar SpreadSheetFactory = (function () {\n\t/*\n\t * Constructor\n\t *\n\t * param {Array} optional array containing cell data.\n\t */\n\tfunction SpreadSheet(cells) {\n\t\tthis.cells = [];\n\t\tthis.addCells(cells);\n\t}\n\n\t/*\n\t * getCellById\n\t *\n\t * Returns the the first cell taht match the id\n\t * or returns undefined.\n\t *\n\t * param {string} id of cell\n\t * return {Cell}\n\t */\n\tSpreadSheet.prototype.getCellById = function (id) {\n\t\treturn _.find(this.cells, {\n\t\t\tid: id\n\t\t});\n\t};\n\n\t/*\n\t * addCells\n\t *\n\t * Accepts an array of json objects. A collection of\n\t * Cell objects are create using the json objects.\n\t * The cells are added to collection of spreadsheet\n\t * cells.\n\t *\n\t * param {Array} an array of json objects\n\t */\n\tSpreadSheet.prototype.addCells = function (cells) {\n\t\tcells = _.isArray(cells) ? cells : [];\n\t\tcells = cells.map(function (data) {\n\t\t\treturn CellFactory.getNewCell(data);\n\t\t});\n\t\tArray.prototype.push.apply(this.cells, cells);\n\t};\n\n\tSpreadSheet.prototype.addCell = function (data) {\n\t\tthis.cells.push(CellFactory.getNewCell(data));\n\t};\n\n\t/*\n\t * removeCellsById\n\t *\n\t * Accepts a list of cell ids. Cells matching each\n\t * are removed one at a time from the collection\n\t * of spreatsheet cells.\n\t *\n\t * param {Array} a list of ids to remove\n\t */\n\tSpreadSheet.prototype.removeCellsById = function (ids) {\n\t\tids = _.isArray(ids) ? ids : [];\n\t\t_.forEach(ids, function (id) {\n\t\t\t_.remove(this.cells, function (cell) {\n\t\t\t\treturn cell.id === id;\n\t\t\t});\n\t\t});\n\t};\n\n\t/*\n\t * removeCellById\n\t *\n\t * Accepts an id of a cell that needs to be removed.\n\t * Cells that match the id are removed one at a time\n\t * from the collection of spreatsheet cells.\n\t *\n\t * param {String} id the id of the cell to be removed\n\t */\n\tSpreadSheet.prototype.removeCellById = function (id) {\n\t\t_.remove(this.cells, function (cell) {\n\t\t\treturn cell.id === id;\n\t\t});\n\t};\n\n\treturn {\n\t\tgetSpreadSheet: function (cells) {\n\t\t\treturn new SpreadSheet(cells);\n\t\t}\n\t};\n\n})();\n\nvar spreadSheet = SpreadSheetFactory.getSpreadSheet();\n\nfunction contrainValue(value, min, max) {\n\tmin = min || 0;\n\tmax = max || 10;\n\tvalue = _.isFinite(value) ? value : 1;\n\tvalue = Math.max(min, value);\n\tvalue = Math.min(max, value);\n\treturn value;\n}\n\n/*\n * drawSpreadSheet\n *\n * param {int} width\n * param {int} height\n * return void\n */\nfunction drawSpreadSheet(width, height) {\n\twidth = contrainValue(width, 1, 27);\n\theight = contrainValue(height, 1, 20);\n\n\tvar table = document.querySelector(\"table\");\n\n\tfor (var i = 0; i < height; i++) {\n\t\tvar row = table.insertRow(-1);\n\t\tfor (var j = 0; j < width; j++) {\n\t\t\tvar letter = String.fromCharCode(\"A\".charCodeAt(0) + j - 1);\n\t\t\trow.insertCell(-1)\n\t\t\t\t.innerHTML = i && j ? \"<input id='\" + letter + i +\n\t\t\t\t\"' class='spreadsheet-cell' />\" :\n\t\t\t\ti || letter;\n\t\t}\n\t}\n}\n\ndrawSpreadSheet(10, 10);\n\nvar INPUTS = $('.spreadsheet-cell'); //get all inputs\nvar cells = [];\n\nfunction processElements(socketUpdate, socketMessage) {\n\tfunction add(a, b) {\n\t\treturn a + b;\n\t}\n\n\tfunction minus(a, b) {\n\t\treturn a - b;\n\t}\n\n\tfunction multiply(a, b) {\n\t\treturn a * b;\n\t}\n\n\tfunction divide(a, b) {\n\t\tif (b === 0) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn a / b;\n\t}\n\n\tfunction power(a, b) {\n\t\tconsole.log('a ^ b:', a, b);\n\t\treturn Math.pow(a, b);\n\t}\n\n\tfunction fetchAndCombine(token, combiner, pushers) {\n\t\tvar right = '';\n\t\tvar left = calculate(token.left, pushers);\n\n\t\tif (token.right) {\n\t\t\tright = calculate(token.right, pushers);\n\t\t} else {\n\t\t\tright = Bacon.constant(0);\n\t\t}\n\t\treturn left.combine(right, combiner);\n\t}\n\n\tfunction calculate(token, pushers) {\n\t\tvar left = 0;\n\t\tvar right = 0;\n\t\tvar value = 0;\n\n\t\tif (token.type === 'number') {\n\t\t\tvalue = Bacon.constant(parseFloat(token.token));\n\t\t} else if (token.type === 'cellname') {\n\t\t\tvalue = spreadSheet.getCellById(token.token);\n\t\t\tpushers.push(value);\n\t\t\tvalue = value.bus;\n\t\t} else if (token.type === 'unary') {\n\t\t\tright = calculate(token.right, pushers);\n\t\t\tif (token.token === '+') {\n\t\t\t\tvalue = right;\n\t\t\t} else {\n\t\t\t\tleft = Bacon.constant(0);\n\t\t\t\tvalue = left.combine(right, minus);\n\t\t\t}\n\t\t} else if (token.type === \"leftparen\") {\n\t\t\tleft = calculate(token.left, pushers);\n\t\t\tright = token.right;\n\t\t\tif (right.type === 'rightparen') {\n\t\t\t\tvalue = left;\n\t\t\t}\n\t\t} else if (token.type === 'operator') {\n\n\t\t\tswitch (token.token) {\n\t\t\tcase '+':\n\t\t\t\tvalue = fetchAndCombine(token, add, pushers);\n\t\t\t\tbreak;\n\t\t\tcase '-':\n\t\t\t\tvalue = fetchAndCombine(token, minus, pushers);\n\t\t\t\tbreak;\n\t\t\tcase '*':\n\t\t\t\tvalue = fetchAndCombine(token, multiply, pushers);\n\t\t\t\tbreak;\n\t\t\tcase '/':\n\t\t\t\tvalue = fetchAndCombine(token, divide, pushers);\n\t\t\t\tbreak;\n\t\t\tcase '^':\n\t\t\t\tvalue = fetchAndCombine(token, power, pushers);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t}\n\n\tfunction updateCell(cell, element, value) {\n\t\tcell.value = value;\n\t\tif (element.is(':focus')) {\n\t\t\telement.val(cell.formula);\n\t\t} else {\n\t\t\telement.val(cell.value);\n\t\t}\n\t\tlocalStorage[cell.id] = cell.formula;\n\t\t//console.log('cell:', cell.id, cell.value);\n\n\t\tsocket.emit('log', {\n\t\t\tid: cell.id,\n\t\t\tformula: cell.formula,\n\t\t\tvalue: cell.value,\n\t\t\tuser_id: userId,\n\t\t\tupdate: 'success'\n\t\t});\n\t\tcell.pusher();\n\t}\n\n\tINPUTS.each(function (index, elem) {\n\t\tvar element = $(elem);\n\t\tvar model = {\n\t\t\telement: element,\n\t\t\tid: element.attr('id')\n\t\t};\n\t\tvar pushers = [];\n\n\t\tcells.push(model);\n\n\t\tsocketUpdate.filter(function (data) {\n\t\t\t\treturn data.element === model.id;\n\t\t\t})\n\t\t\t.onValue(function (data) {\n\t\t\t\tvar cell = spreadSheet.getCellById(data.element);\n\t\t\t\tvar value = data.formula.toUpperCase();\n\n\t\t\t\tif (data.timestamp > cell.lastUpdated) {\n\t\t\t\t\tpushers = [];\n\t\t\t\t\tcell.formula = value;\n\t\t\t\t\tif (cell.dispose) {\n\t\t\t\t\t\tcell.dispose();\n\t\t\t\t\t}\n\t\t\t\t\tcell.dispose = null;\n\t\t\t\t\tif (_.isUndefined(value) || value === '') {\n\t\t\t\t\t\tupdateCell(cell, element, 0);\n\t\t\t\t\t\tcell.expanded = '0';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = window.parser.parse(value.replace('=', ''), cell.id);\n\t\t\t\t\t\tif (_.isString(value) && /ERROR/ig.test(value)) {\n\t\t\t\t\t\t\tupdateCell(cell, element, value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcell.dispose = calculate(value, pushers)\n\t\t\t\t\t\t\t\t.onValue(function (result) {\n\t\t\t\t\t\t\t\t\tupdateCell(cell, element, result);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t_(pushers)\n\t\t\t\t\t\t\t\t.uniqBy(function (cell) {\n\t\t\t\t\t\t\t\t\treturn cell.id;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.forEach(function (cell) {\n\t\t\t\t\t\t\t\t\tcell.pusher();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('server update rejected:', data);\n\t\t\t\t}\n\t\t\t});\n\n\t\telement.asEventStream('focus')\n\t\t\t.onValue(function (event) {\n\t\t\t\tvar elementid = event.target.id;\n\t\t\t\tvar cell = spreadSheet.getCellById(elementid);\n\t\t\t\tvar value = cell.formula;\n\t\t\t\telement.val(value);\n\t\t\t});\n\n\t\telement.asEventStream('blur')\n\t\t\t.map(function (event) {\n\t\t\t\tvar elementid = event.target.id;\n\t\t\t\tvar formula = event.target.value;\n\n\t\t\t\treturn {\n\t\t\t\t\telement: elementid,\n\t\t\t\t\tformula: formula,\n\t\t\t\t\tuser_id: userId\n\t\t\t\t};\n\t\t\t})\n\t\t\t.onValue(function (data) {\n\t\t\t\tsocket.emit('write', data);\n\t\t\t});\n\t});\n\n\tspreadSheet.addCells(cells);\n\twindow.parser.setSpreadSheet(spreadSheet);\n\n\tsocketUpdate.onValue(function (data) {\n\t\tconsole.log('update:', data);\n\t});\n\t/*\n\t\tsocketMessage.onValue(function (data) {\n\t\t\tconsole.log('message:', data);\n\t\t});*/\n}\n\nvar userId;\n/* eslint-disable */\nvar socket = io.connect('http://localhost:5000');\n/* eslint-enable */\n\nsocket.on('connect', function (data) {\n\twindow.parser.setSocket(socket);\t//need it for logging\n\n\tsocket.emit('join', 'Hello World from client');\n\n\tsocket.on('userid', function (data) {\n\t\tuserId = data;\n\t});\n\n\tvar socketUpdate = Bacon.fromBinder(function (sink) {\n\t\tsocket.on('update', function (data) {\n\t\t\tsink(data);\n\t\t});\n\t});\n\t/*\n\t\tvar socketMessage = Bacon.fromBinder(function (sink) {\n\t\t\tsocket.on('messages', function (data) {\n\t\t\t\tsink(data);\n\t\t\t});\n\t\t});*/\n\n\tprocessElements(socketUpdate);\n});\n"],"sourceRoot":"/source/"}